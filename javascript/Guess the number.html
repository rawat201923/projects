<html>
    <head>
        <title>
      4. Javascript : Guess the number.
        </title>
        <link href="style.css" rel="stylesheet" />
    </head>
    <body>
        
        <div class="container calculator">
            <h1>Number guessing game</h1>
            <p>Try and guess a random number</p>
            <p></p>
            <form class="form">
                <label for "guessfield" id="guess">Guess a number</label>
                <input type="text" id="guessfield" class="guessfield"><br>
                <button type="submit" id="subt" class="guessSubmit">Submit Guess</button>
            </form>
                <div class="result_no">
                    <p>Previous Guesses: <span class="guesses"></span></p>
                    <p>Guess Remaining: <span class="lastresult">10</span></p>
                    <p id="loworhigh"></p>

                </div>
        
           
           
          
        </div>
      
    <script>
        
const randnumber= parseInt(Math.random()*100+1);
const submit= document.querySelector('#subt');
const userinput = document.querySelector('#guessfield')
const guessslot= document.querySelector('#guesses');
const remaining = document.querySelector('#lastresult');
const loworhigh = document.querySelector('#loworhigh');
const startover = document.querySelector('#result_no');

const p = document.createElement('p');

let preGuess= [];
let numGuess = 1
let playGame = true;

if(playGame){
    submit.addEventListener('click',function(e){
        e.preventDeafault()
        const guess = parseInt(userinput.value);
        console.log(guess);
        validateGuess(guess);
    });
}
function validateGuess(guess){
    // conditions for userinputs
    if(isNaN(guess)){
        alert('please enter a valid number');
    }else if(guess<1){
        alert('please enter a valid number');
    } else if(guess>100){
        alert('please enter a number less than 100');
    }else{
        preGuess.push(guess)
        if(numGuess===11){
            displayGuess(guess)
            displayMessage(`game over. random was ${randnumber}`)
            endGame()



        }
        else{
            displayGuess(guess);
            checkGuess(guess);
        }

    }

}

function checkGuess(guess){
 //
 if(guess === randnumber){
    displayMessage(`you guessed it right`);
    endGame();

 }else if(guess<randnumber){
    displayMessage(`you guessed it too low`);

 }else if(guess> randnumber){

    displayMessage(`you guessed it too high`);
 }

}

function displayGuess(guess){
    //clean the previous inputs 
    userinput.value=''
    guessslot.innerHTML+=`${guess}      `
    numGuess++;
    remaining.innerHTML=`${11-numGuess};`;
}
function displayMessage(message){
    //
    loworhigh.innerHTML=`<h2>${meassage}<h2>`;

}

function endGame(){
    userinput.value='';
    userinput.setAttribute('disabled','')
    p.classList.add('button')
    p.innerHTML=`<h2 id="newGame">Start New Game</h2>`;
    startover.appendChild(p);
    playGame=false;
    newGame();
} 

function newGame(){
//
}
  

  </script>
    </body>
</html>
